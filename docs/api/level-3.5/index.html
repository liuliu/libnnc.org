

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Level 3.5 API &mdash; nnc, a deep learning framework from ccv</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Construct “switch” control structure in symbolic graph" href="../level_3_5/group__level__3__5__case__of_symbolic_switch/" />
    <link rel="prev" title="Level 3 API" href="../level-3/" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../" class="icon icon-home"> nnc
          

          
          </a>

          
            
            
              <div class="version">
                a deep learning framework from ccv
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../overview/#what-s-nnc">What’s NNC?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/#tensors-commands-and-streams">1. Tensors, Commands and Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/#computation-graph">2. Computation Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/#symbolic-graph">3. Symbolic Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/#dynamic-graph">4. Dynamic Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/#common-neural-network-primitives">5. Common Neural Network Primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/#supplementary-materials">Supplementary Materials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview/#toll-free-bridging">Toll-Free Bridging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/#automatic-differentiation">Automatic Differentiation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/#while-type-sub-graph"><code class="docutils literal notranslate"><span class="pre">while</span></code> Type Sub-Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/#case-of-type-sub-graph"><code class="docutils literal notranslate"><span class="pre">case..of</span></code> Type Sub-Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/#limits-and-constraints">Limits and Constraints</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tech/">Technicals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tech/nnc-alloc/">The NNC Tensor Allocation Algorithm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#tensor-representation">Tensor Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#loop-representation">Loop Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#the-problem-definition">The Problem Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#the-core-algorithm">The Core Algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#basic-structure">Basic Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#candidate-selection">Candidate Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#insertion">Insertion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#intuition">Intuition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#loop">Loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#multi-view-tensor">Multi-view Tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#loop-with-efficient-tensor-allocation">Loop with Efficient Tensor Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#sub-computation-graph">Sub-Computation Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-alloc/#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tech/nnc-schd/">NNC Static Schedule A Graph</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-schd/#stream">Stream</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-schd/#static-schedule">Static Schedule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-schd/#while-and-case-of"><code class="docutils literal notranslate"><span class="pre">while</span></code> and <code class="docutils literal notranslate"><span class="pre">case..of</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tech/nnc-dy/">NNC Dynamic Graph Execution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-dy/#naming-the-variable">Naming The Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-dy/#tracing-the-operation">Tracing The Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-dy/#optimizations">Optimizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-dy/#interoperability">Interoperability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-dy/#future-optimizations">Future Optimizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-dy/#some-maybes">Some Maybes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tech/nnc-cnnp/">NNC Common Neural Network Primitives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-cnnp/#model">Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-cnnp/#model-io">Model IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-cnnp/#fit-evaluate-backward-apply-gradients">Fit, Evaluate, Backward, Apply Gradients</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tech/nnc-df/">NNC Dataframe</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-df/#operations-on-the-data">Operations on the Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-df/#iteration">Iteration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-df/#map">Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-df/#reduce">Reduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-df/#others">Others</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-df/#use-dataframe-with-addons">Use Dataframe with Addons</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tech/nnc-uops/">NNC Micro Ops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-uops/#describe-micro-ops">Describe Micro Ops</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-uops/#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-uops/#simplification">Simplification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-uops/#loop-fusion">Loop-Fusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-uops/#variable-substitution">Variable Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/nnc-uops/#automatic-differentiation">Automatic Differentiation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../level-0/">Level 0 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../level-0/#essentials">Essentials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../level-1/">Level 1 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../level_1/group__level__1__uops_micro_jittor/">The concept of meta-ops in Jittor is amazing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-1/#tensors">Tensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-1/#commands">Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-1/#streams">Streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-1/#micro-ops">Micro Ops</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../level-2/">Level 2 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../level-2/#essentials">Essentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-2/#others">Others</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../level-3/">Level 3 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../level-3/#essentials">Essentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-3/#others">Others</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Level 3.5 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../level_3_5/group__level__3__5__case__of_symbolic_switch/">Construct “switch” control structure in symbolic graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level_3_5/group__level__3__5__simplify_symbolic_simplify/">Symbolic graph simplification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level_3_5/group__level__3__5__while_symbolic_while/">Construct a “while” loop in a symbolic graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-differentiation">Automatic Differentiation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#while-loop-essentials">While Loop Essentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="#branching">Branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gradient-based-optimization">Gradient-based Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graph-simplification">Graph Simplification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-graph-parallelization">Automatic Graph Parallelization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-compression">Memory Compression</a></li>
<li class="toctree-l3"><a class="reference internal" href="#while-loop-others">While Loop Others</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../level-4/">Level 4 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../level-4/#essentials">Essentials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../level-5/">Level 5 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../level_5/group__level__5_dataframe/">What is “dataframe” in ML?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level_5/group__level__5_dataframe_csv/">Why to support comma-separated-values files in dataframe?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level_5/group__level__5_model/">Models, layers, and Keras</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-5/#dataframe-api">Dataframe API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-5/#dataframe-add-ons">Dataframe Add-ons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-5/#dataframe-csv-support">Dataframe CSV Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-5/#model-api">Model API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level-5/#model-add-ons">Model Add-ons</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../convenience/">Convenience API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/">Available Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../commands/#backends">Backends</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/#commands">Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/#command-identifiers">Command Identifiers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://libnnc.org/s4nnc/">Swift for NNC</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          
            <a href="../../" class="icon icon-home"> nnc
          

          
          </a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../">Docs</a> &raquo;</li>
        
          <li><a href="../">API Reference</a> &raquo;</li>
        
      <li>Level 3.5 API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/level-3.5.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="level-3-5-api">
<h1>Level 3.5 API<a class="headerlink" href="#level-3-5-api" title="Permalink to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Design Comments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../level_3_5/group__level__3__5__case__of_symbolic_switch/">Construct “switch” control structure in symbolic graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../level_3_5/group__level__3__5__simplify_symbolic_simplify/">Symbolic graph simplification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../level_3_5/group__level__3__5__while_symbolic_while/">Construct a “while” loop in a symbolic graph</a></li>
</ul>
</div>
<section id="automatic-differentiation">
<h2>Automatic Differentiation<a class="headerlink" href="#automatic-differentiation" title="Permalink to this heading">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431ccv_nnc_symbolic_graph_backwardPC24ccv_nnc_symbolic_graph_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi">
<span id="_CPPv331ccv_nnc_symbolic_graph_backwardPC24ccv_nnc_symbolic_graph_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="_CPPv231ccv_nnc_symbolic_graph_backwardPC24ccv_nnc_symbolic_graph_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="ccv_nnc_symbolic_graph_backward__ccv_nnc_symbolic_graph_tPC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC"></span><span class="target" id="group__level__3__5__autograd_1ga4b1735b5faa91556d3e1e93603618c5c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_backward</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">f_symbols</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">f_symbol_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">wrt_symbols</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">wrt_symbol_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sources</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">source_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destinations</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destination_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431ccv_nnc_symbolic_graph_backwardPC24ccv_nnc_symbolic_graph_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Compute the backward graph, assuming the provided symbolic graph only contain the “forward” part from sources to destinations. This effectively is called the “autograd” or automatic differentiation process (specifically, “reverse AD”) in other libs. For a expression y = f(x), to compute dx, x is the wrt_symbol, y is the f_symbol. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>f_symbols</strong> – The tensor symbols array of the result (or loss). </p></li>
<li><p><strong>f_symbol_size</strong> – The size of the f symbols array. </p></li>
<li><p><strong>wrt_symbols</strong> – The tensor symbols array of the inputs. </p></li>
<li><p><strong>wrt_symbol_size</strong> – The size of the wrt symbols array. </p></li>
<li><p><strong>sources</strong> – The source execution nodes array for the computation. </p></li>
<li><p><strong>source_size</strong> – The size of the source nodes array. </p></li>
<li><p><strong>destinations</strong> – The destination execution nodes array for the computation. </p></li>
<li><p><strong>destination_size</strong> – The size of the destination nodes array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434ccv_nnc_tensor_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t">
<span id="_CPPv334ccv_nnc_tensor_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t"></span><span id="_CPPv234ccv_nnc_tensor_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t"></span><span id="ccv_nnc_tensor_symbol_for_backward__ccv_nnc_symbolic_graph_tCPC.ccv_nnc_tensor_symbol_tC"></span><span class="target" id="group__level__3__5__autograd_1ga76c3179cb69d4d5eca4f2dd3e6230ef9"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_for_backward</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">symbol</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434ccv_nnc_tensor_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the symbol that contains the gradient. The list will be flushed if the ccv_nnc_symbolic_graph_backward function is called again. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>symbol</strong> – The tensor symbol we want to retrieve its gradient (must be one of the wrt symbols or the f symbols). </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor symbol that represents the gradient. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv438ccv_nnc_graph_exec_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t">
<span id="_CPPv338ccv_nnc_graph_exec_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t"></span><span id="_CPPv238ccv_nnc_graph_exec_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t"></span><span id="ccv_nnc_graph_exec_symbol_for_backward__ccv_nnc_symbolic_graph_tCPC.ccv_nnc_tensor_symbol_tC"></span><span class="target" id="group__level__3__5__autograd_1ga426941c45c49f4a4e24f56f784687254"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_for_backward</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">symbol</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv438ccv_nnc_graph_exec_symbol_for_backwardPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the execution node symbol for a tensor symbol. This used to retrieve the execution node for a gradient tensor symbol. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>symbol</strong> – The tensor symbol that represents the gradient (must be one of the wrt symbols). </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A execution node symbol that generates the gradient. </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="while-loop-essentials">
<h2>While Loop Essentials<a class="headerlink" href="#while-loop-essentials" title="Permalink to this heading">¶</a></h2>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421ccv_nnc_graph_while_f">
<span id="_CPPv321ccv_nnc_graph_while_f"></span><span id="_CPPv221ccv_nnc_graph_while_f"></span><span id="ccv_nnc_graph_while_f"></span><span class="target" id="group__level__3__5__while__essentials_1ga4bc71f4ad7b8882dc29ec999702bec95"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_while_f</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">input_size</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv421ccv_nnc_graph_while_f" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The given tensors contains all the common / input / output tensors specified in the sub-graph. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423ccv_nnc_tensor_tape_newv">
<span id="_CPPv323ccv_nnc_tensor_tape_newv"></span><span id="_CPPv223ccv_nnc_tensor_tape_newv"></span><span id="ccv_nnc_tensor_tape_new__void"></span><span class="target" id="group__level__3__5__while__essentials_1ga71800872fdcd379d25bcd457f171e1f9"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_tape_new</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423ccv_nnc_tensor_tape_newv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a tensor tape that can be used to record for while loop or case..of. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ccv_nnc_tensor_tape_t pointer. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424ccv_nnc_tensor_tape_freePC21ccv_nnc_tensor_tape_t">
<span id="_CPPv324ccv_nnc_tensor_tape_freePC21ccv_nnc_tensor_tape_t"></span><span id="_CPPv224ccv_nnc_tensor_tape_freePC21ccv_nnc_tensor_tape_t"></span><span id="ccv_nnc_tensor_tape_free__ccv_nnc_tensor_tape_tPC"></span><span class="target" id="group__level__3__5__while__essentials_1gade00ac2b3e33d1aa20fa08a62a1e9b83"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_tape_free</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv421ccv_nnc_tensor_tape_t" title="ccv_nnc_tensor_tape_t"><span class="n"><span class="pre">ccv_nnc_tensor_tape_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tape</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424ccv_nnc_tensor_tape_freePC21ccv_nnc_tensor_tape_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deallocate the tensor tape and all the memory it allocated. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tape</strong> – The tensor tape object. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428ccv_nnc_symbolic_graph_whilePC24ccv_nnc_symbolic_graph_tK8uint32_tPC24ccv_nnc_symbolic_graph_tPCKc">
<span id="_CPPv328ccv_nnc_symbolic_graph_whilePC24ccv_nnc_symbolic_graph_tK8uint32_tPC24ccv_nnc_symbolic_graph_tPCKc"></span><span id="_CPPv228ccv_nnc_symbolic_graph_whilePC24ccv_nnc_symbolic_graph_tK8uint32_tPC24ccv_nnc_symbolic_graph_tPCKc"></span><span id="ccv_nnc_symbolic_graph_while__ccv_nnc_symbolic_graph_tPC.uint32_tC.ccv_nnc_symbolic_graph_tPC.cCPC"></span><span class="target" id="group__level__3__5__while__essentials_1ga203428cd4f36f246c4965f69397d2420"></span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_while</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cmd</span></span>, <a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428ccv_nnc_symbolic_graph_whilePC24ccv_nnc_symbolic_graph_tK8uint32_tPC24ccv_nnc_symbolic_graph_tPCKc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The API to operate on the symbolic graph is more involved than the concrete graph for while loops. The reason is because symbolic graph operates in SSA form (static single assignment), therefore, the while loops for the symbolic graph has to be parameterized. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>cmd</strong> – The command idenfitier, can be either CCV_NNC_GRAPH_FORWARD or CCV_NNC_GRAPH_BACKWARD </p></li>
<li><p><strong>while_graph</strong> – The sub-graph to run the while loop. </p></li>
<li><p><strong>name</strong> – The name of the while loop. Optional. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A while loop execution symbol (backed by a sub-graph) of the giving graph. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv437ccv_nnc_symbolic_graph_set_while_exprPC24ccv_nnc_symbolic_graph_tK21ccv_nnc_graph_while_fPCKvPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi">
<span id="_CPPv337ccv_nnc_symbolic_graph_set_while_exprPC24ccv_nnc_symbolic_graph_tK21ccv_nnc_graph_while_fPCKvPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="_CPPv237ccv_nnc_symbolic_graph_set_while_exprPC24ccv_nnc_symbolic_graph_tK21ccv_nnc_graph_while_fPCKvPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="ccv_nnc_symbolic_graph_set_while_expr__ccv_nnc_symbolic_graph_tPC.ccv_nnc_graph_while_fC.voidCPC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC"></span><span class="target" id="group__level__3__5__while__essentials_1ga3f7ffdb73747a5d8a08407889489347c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_set_while_expr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421ccv_nnc_graph_while_f" title="ccv_nnc_graph_while_f"><span class="n"><span class="pre">ccv_nnc_graph_while_f</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">while_expr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_data</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">inputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">input_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">breakpoints</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">breakpoint_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv437ccv_nnc_symbolic_graph_set_while_exprPC24ccv_nnc_symbolic_graph_tK21ccv_nnc_graph_while_fPCKvPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the expression to be evaluated, and at which nodes to be evaluated. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>while_graph</strong> – The symbolic graph that will run the while loop. </p></li>
<li><p><strong>while_expr</strong> – The function pointer to the expression. </p></li>
<li><p><strong>while_data</strong> – A custom data provided to the expression evaluation function. </p></li>
<li><p><strong>inputs</strong> – The input tensor symbols array to the expression evaluation function. </p></li>
<li><p><strong>input_size</strong> – The size of the input tensor symbols array. </p></li>
<li><p><strong>breakpoints</strong> – The execution node symbols at which the while loop will pause, evaluate the expression, and choose to either break out or continue. </p></li>
<li><p><strong>breakpoint_size</strong> – The size of the execution node symbols array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv438ccv_nnc_symbolic_graph_set_carry_oversPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_tensor_symbol_map_tKi">
<span id="_CPPv338ccv_nnc_symbolic_graph_set_carry_oversPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_tensor_symbol_map_tKi"></span><span id="_CPPv238ccv_nnc_symbolic_graph_set_carry_oversPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_tensor_symbol_map_tKi"></span><span id="ccv_nnc_symbolic_graph_set_carry_overs__ccv_nnc_symbolic_graph_tPC.ccv_nnc_tensor_symbol_map_tCPC.iC"></span><span class="target" id="group__level__3__5__while__essentials_1ga9bdf5a1e1209c04eb0a0e8176467a6ac"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_set_carry_overs</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_tensor_symbol_map_t" title="ccv_nnc_tensor_symbol_map_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_map_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">symbol_map</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">symbol_map_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv438ccv_nnc_symbolic_graph_set_carry_oversPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_tensor_symbol_map_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the loop carry parameters when reuse. (parameterized loop, these will be carried over to the next loop). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>while_graph</strong> – The symbolic graph that will run the while loop. </p></li>
<li><p><strong>symbol_map</strong> – A pair of tensor symbols array, where the source tensor symbol is the output tensor symbol in this loop, the destination tensor symbol is the input tensor symbol in the next loop. </p></li>
<li><p><strong>symbol_map_size</strong> – The size of the symbol map array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv437ccv_nnc_tensor_symbol_for_while_countPCK24ccv_nnc_symbolic_graph_t">
<span id="_CPPv337ccv_nnc_tensor_symbol_for_while_countPCK24ccv_nnc_symbolic_graph_t"></span><span id="_CPPv237ccv_nnc_tensor_symbol_for_while_countPCK24ccv_nnc_symbolic_graph_t"></span><span id="ccv_nnc_tensor_symbol_for_while_count__ccv_nnc_symbolic_graph_tCPC"></span><span class="target" id="group__level__3__5__while__essentials_1ga8d91f7e564df81ea0bd771d5cd78eb1e"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_for_while_count</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_graph</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv437ccv_nnc_tensor_symbol_for_while_countPCK24ccv_nnc_symbolic_graph_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Retrieve the special (magical) tensor symbol that retains the while loop counter (thus, dimension of 1x1x1, CCV_64S type). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>while_graph</strong> – The symbolic graph that will run the while loop. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor symbol represents the implicit loop count. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv440ccv_nnc_symbolic_graph_from_while_symbolPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t">
<span id="_CPPv340ccv_nnc_symbolic_graph_from_while_symbolPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t"></span><span id="_CPPv240ccv_nnc_symbolic_graph_from_while_symbolPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t"></span><span id="ccv_nnc_symbolic_graph_from_while_symbol__ccv_nnc_symbolic_graph_tCPC.ccv_nnc_graph_exec_symbol_tC"></span><span class="target" id="group__level__3__5__while__essentials_1ga2214a1ac5830d58abfe650395e3ddf9c"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_from_while_symbol</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">while_symbol</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv440ccv_nnc_symbolic_graph_from_while_symbolPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Extract the sub-graph of the while loop from a symbol. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>while_symbol</strong> – The execution node symbol. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sub-graph that represents a while loop. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419ccv_nnc_graph_whilePC15ccv_nnc_graph_tK8uint32_tPC15ccv_nnc_graph_t">
<span id="_CPPv319ccv_nnc_graph_whilePC15ccv_nnc_graph_tK8uint32_tPC15ccv_nnc_graph_t"></span><span id="_CPPv219ccv_nnc_graph_whilePC15ccv_nnc_graph_tK8uint32_tPC15ccv_nnc_graph_t"></span><span id="ccv_nnc_graph_while__ccv_nnc_graph_tPC.uint32_tC.ccv_nnc_graph_tPC"></span><span class="target" id="group__level__3__5__while__essentials_1ga8a451b3d0a3f971fc946cb55c20f9871"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_while</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cmd</span></span>, <a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_graph</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419ccv_nnc_graph_whilePC15ccv_nnc_graph_tK8uint32_tPC15ccv_nnc_graph_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructing looped concrete graph. Note that this interface is a little bit simpler than the one for symbolic graph. The reason is that a concrete graph operates on allocated tensors, thus, there is no mapping of tensor symbols between the parent graph and the while graph. (The reason to have a mapping in symbolic graphs is to constraint the variable leaking between the sub graph and parent graph). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The concrete graph. </p></li>
<li><p><strong>cmd</strong> – The command idenfitier, can be either CCV_NNC_GRAPH_FORWARD or CCV_NNC_GRAPH_BACKWARD </p></li>
<li><p><strong>while_graph</strong> – The sub-graph to run the while loop. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A execution node that represents the sub-graph. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428ccv_nnc_graph_set_while_exprPC15ccv_nnc_graph_tK21ccv_nnc_graph_while_fPCKvPCPC16ccv_nnc_tensor_tKiPCK20ccv_nnc_graph_exec_tKi">
<span id="_CPPv328ccv_nnc_graph_set_while_exprPC15ccv_nnc_graph_tK21ccv_nnc_graph_while_fPCKvPCPC16ccv_nnc_tensor_tKiPCK20ccv_nnc_graph_exec_tKi"></span><span id="_CPPv228ccv_nnc_graph_set_while_exprPC15ccv_nnc_graph_tK21ccv_nnc_graph_while_fPCKvPCPC16ccv_nnc_tensor_tKiPCK20ccv_nnc_graph_exec_tKi"></span><span id="ccv_nnc_graph_set_while_expr__ccv_nnc_graph_tPC.ccv_nnc_graph_while_fC.voidCPC.ccv_nnc_tensor_tPCPC.iC.ccv_nnc_graph_exec_tCPC.iC"></span><span class="target" id="group__level__3__5__while__essentials_1gad4832b3d19dfb621de16c3d51c492b9c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_set_while_expr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421ccv_nnc_graph_while_f" title="ccv_nnc_graph_while_f"><span class="n"><span class="pre">ccv_nnc_graph_while_f</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">while_expr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_data</span></span>, <span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">inputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">input_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv420ccv_nnc_graph_exec_t" title="ccv_nnc_graph_exec_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">breakpoints</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">breakpoint_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428ccv_nnc_graph_set_while_exprPC15ccv_nnc_graph_tK21ccv_nnc_graph_while_fPCKvPCPC16ccv_nnc_tensor_tKiPCK20ccv_nnc_graph_exec_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the evaluated expression for the while loop. The while loop will break out if the expression evaluates to 0. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>while_graph</strong> – The concrete graph that will run the while loop. </p></li>
<li><p><strong>while_expr</strong> – The function pointer to the expression. </p></li>
<li><p><strong>while_data</strong> – A custom data provided to the expression evaluation function. </p></li>
<li><p><strong>inputs</strong> – The input tensors array to the expression evaluation function. </p></li>
<li><p><strong>input_size</strong> – The size of the input tensors array. </p></li>
<li><p><strong>breakpoints</strong> – The execution nodes at which the while loop will pause, evaluate the expression, and choose to either break out or continue. </p></li>
<li><p><strong>breakpoint_size</strong> – The size of the execution nodes array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430ccv_nnc_tensor_for_while_countPCK15ccv_nnc_graph_t">
<span id="_CPPv330ccv_nnc_tensor_for_while_countPCK15ccv_nnc_graph_t"></span><span id="_CPPv230ccv_nnc_tensor_for_while_countPCK15ccv_nnc_graph_t"></span><span id="ccv_nnc_tensor_for_while_count__ccv_nnc_graph_tCPC"></span><span class="target" id="group__level__3__5__while__essentials_1gad6aeb70f7b5116639e80f38138383358"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_for_while_count</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">while_graph</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430ccv_nnc_tensor_for_while_countPCK15ccv_nnc_graph_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the special tensor for the while loop count. It contains one uint64_t value. We keep an implicit count when evaluate the while loop and you can access it with this tensor. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>while_graph</strong> – The concrete graph that will run the while loop. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A special tensor that you can retrieve the loop count at .data.i64[0]. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429ccv_nnc_graph_from_while_execPCK15ccv_nnc_graph_t20ccv_nnc_graph_exec_t">
<span id="_CPPv329ccv_nnc_graph_from_while_execPCK15ccv_nnc_graph_t20ccv_nnc_graph_exec_t"></span><span id="_CPPv229ccv_nnc_graph_from_while_execPCK15ccv_nnc_graph_t20ccv_nnc_graph_exec_t"></span><span id="ccv_nnc_graph_from_while_exec__ccv_nnc_graph_tCPC.ccv_nnc_graph_exec_t"></span><span class="target" id="group__level__3__5__while__essentials_1ga76172fa0ff56ecae83bbc56ec7dee892"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_from_while_exec</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <a class="reference internal" href="../level-2/#_CPPv420ccv_nnc_graph_exec_t" title="ccv_nnc_graph_exec_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429ccv_nnc_graph_from_while_execPCK15ccv_nnc_graph_t20ccv_nnc_graph_exec_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Retrieve the sub-graph from a execution node. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The concrete graph. </p></li>
<li><p><strong>exec</strong> – The execution node represents the sub-graph. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sub-graph. </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="branching">
<h2>Branching<a class="headerlink" href="#branching" title="Permalink to this heading">¶</a></h2>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423ccv_nnc_graph_case_of_f">
<span id="_CPPv323ccv_nnc_graph_case_of_f"></span><span id="_CPPv223ccv_nnc_graph_case_of_f"></span><span id="ccv_nnc_graph_case_of_f"></span><span class="target" id="group__level__3__5__case__of_1gaf9ab9dc3e078243211030c46dbedd771"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_case_of_f</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">input_size</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv423ccv_nnc_graph_case_of_f" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Function prototype to evaluate a branch expression. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434ccv_nnc_symbolic_graph_case_of_newPC24ccv_nnc_symbolic_graph_tK8uint32_tPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_tensor_symbol_map_tKiPCKc">
<span id="_CPPv334ccv_nnc_symbolic_graph_case_of_newPC24ccv_nnc_symbolic_graph_tK8uint32_tPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_tensor_symbol_map_tKiPCKc"></span><span id="_CPPv234ccv_nnc_symbolic_graph_case_of_newPC24ccv_nnc_symbolic_graph_tK8uint32_tPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_tensor_symbol_map_tKiPCKc"></span><span id="ccv_nnc_symbolic_graph_case_of_new__ccv_nnc_symbolic_graph_tPC.uint32_tC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_map_tCPC.iC.cCPC"></span><span class="target" id="group__level__3__5__case__of_1ga4e203ab6e32ee2d98196ebcb0d68fd45"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_case_of_new</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cmd</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">inputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">input_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_tensor_symbol_map_t" title="ccv_nnc_tensor_symbol_map_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_map_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">symbol_map</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">symbol_map_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434ccv_nnc_symbolic_graph_case_of_newPC24ccv_nnc_symbolic_graph_tK8uint32_tPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_tensor_symbol_map_tKiPCKc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a new case..of execution node symbol. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>cmd</strong> – The command idenfitier, can be either CCV_NNC_GRAPH_FORWARD or CCV_NNC_GRAPH_BACKWARD </p></li>
<li><p><strong>inputs</strong> – The input tensor symbols array for the expression. </p></li>
<li><p><strong>input_size</strong> – The size of the input tensor symbols array. </p></li>
<li><p><strong>symbol_map</strong> – The pair of tensor symbols array where the source is the input tensor symbol and the destination is the output tensor symbol. </p></li>
<li><p><strong>symbol_map_size</strong> – The size of symbol map array. </p></li>
<li><p><strong>name</strong> – The name of the case..of graph. Optional. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A execution node symbol that represents the case..of graph. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439ccv_nnc_symbolic_graph_set_case_of_exprPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t23ccv_nnc_graph_case_of_fPKv">
<span id="_CPPv339ccv_nnc_symbolic_graph_set_case_of_exprPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t23ccv_nnc_graph_case_of_fPKv"></span><span id="_CPPv239ccv_nnc_symbolic_graph_set_case_of_exprPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t23ccv_nnc_graph_case_of_fPKv"></span><span id="ccv_nnc_symbolic_graph_set_case_of_expr__ccv_nnc_symbolic_graph_tPC.ccv_nnc_graph_exec_symbol_tC.ccv_nnc_graph_case_of_f.voidCP"></span><span class="target" id="group__level__3__5__case__of_1gafe37167ba6a99f8bb3fb6d31fd22668f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_set_case_of_expr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exec</span></span>, <a class="reference internal" href="#_CPPv423ccv_nnc_graph_case_of_f" title="ccv_nnc_graph_case_of_f"><span class="n"><span class="pre">ccv_nnc_graph_case_of_f</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">case_of</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">case_of_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439ccv_nnc_symbolic_graph_set_case_of_exprPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_t23ccv_nnc_graph_case_of_fPKv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the expression to be evaluated when choose which sub-graph to branch to. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>exec</strong> – The execution node symbol that represents the case..of graph. </p></li>
<li><p><strong>case_of</strong> – The function pointer to evaluate. </p></li>
<li><p><strong>case_of_data</strong> – The data associated with the function pointer. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434ccv_nnc_symbolic_graph_set_case_ofPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tPC24ccv_nnc_symbolic_graph_tKiPCK27ccv_nnc_tensor_symbol_map_tKi">
<span id="_CPPv334ccv_nnc_symbolic_graph_set_case_ofPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tPC24ccv_nnc_symbolic_graph_tKiPCK27ccv_nnc_tensor_symbol_map_tKi"></span><span id="_CPPv234ccv_nnc_symbolic_graph_set_case_ofPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tPC24ccv_nnc_symbolic_graph_tKiPCK27ccv_nnc_tensor_symbol_map_tKi"></span><span id="ccv_nnc_symbolic_graph_set_case_of__ccv_nnc_symbolic_graph_tPC.ccv_nnc_graph_exec_symbol_tC.ccv_nnc_symbolic_graph_tPC.iC.ccv_nnc_tensor_symbol_map_tCPC.iC"></span><span class="target" id="group__level__3__5__case__of_1ga1b24916c8b6201be683f86d18a4da84e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_set_case_of</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">symbol</span></span>, <a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">case_graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">case_of</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_tensor_symbol_map_t" title="ccv_nnc_tensor_symbol_map_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_map_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">symbol_map</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">symbol_map_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434ccv_nnc_symbolic_graph_set_case_ofPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tPC24ccv_nnc_symbolic_graph_tKiPCK27ccv_nnc_tensor_symbol_map_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set a sub-graph as one of the branch for the case..of graph. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>symbol</strong> – The execution node symbol that represents the case..of graph. </p></li>
<li><p><strong>case_graph</strong> – The sub-graph for one of the branch. </p></li>
<li><p><strong>case_of</strong> – The index assigned to this sub-graph (expression returns this index to determine which sub-graph to execute). </p></li>
<li><p><strong>symbol_map</strong> – The pair of tensor symbols array where the source is the output tensor symbol of the sub-graph, and the destination is the output tensor symbol of the execution node symbol. </p></li>
<li><p><strong>symbol_map_size</strong> – The size of the symbol map array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425ccv_nnc_graph_case_of_newPC15ccv_nnc_graph_tK8uint32_tPCPC16ccv_nnc_tensor_tKiPCPC16ccv_nnc_tensor_tKi">
<span id="_CPPv325ccv_nnc_graph_case_of_newPC15ccv_nnc_graph_tK8uint32_tPCPC16ccv_nnc_tensor_tKiPCPC16ccv_nnc_tensor_tKi"></span><span id="_CPPv225ccv_nnc_graph_case_of_newPC15ccv_nnc_graph_tK8uint32_tPCPC16ccv_nnc_tensor_tKiPCPC16ccv_nnc_tensor_tKi"></span><span id="ccv_nnc_graph_case_of_new__ccv_nnc_graph_tPC.uint32_tC.ccv_nnc_tensor_tPCPC.iC.ccv_nnc_tensor_tPCPC.iC"></span><span class="target" id="group__level__3__5__case__of_1gadade455d3a01b356da64b15f33cb67c7"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_case_of_new</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cmd</span></span>, <span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">inputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">input_size</span></span>, <span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">outputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">output_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425ccv_nnc_graph_case_of_newPC15ccv_nnc_graph_tK8uint32_tPCPC16ccv_nnc_tensor_tKiPCPC16ccv_nnc_tensor_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a new case..of execution node. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The concrete graph. </p></li>
<li><p><strong>cmd</strong> – The command idenfitier, can be either CCV_NNC_GRAPH_FORWARD or CCV_NNC_GRAPH_BACKWARD </p></li>
<li><p><strong>inputs</strong> – The input tensors array supplied to the expression. </p></li>
<li><p><strong>input_size</strong> – The size of the input tensors array. </p></li>
<li><p><strong>outputs</strong> – The output tensors array. </p></li>
<li><p><strong>output_size</strong> – The size of the output tensors array. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A execution node that represents the case..of graph. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430ccv_nnc_graph_set_case_of_exprPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t23ccv_nnc_graph_case_of_fPKvKi">
<span id="_CPPv330ccv_nnc_graph_set_case_of_exprPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t23ccv_nnc_graph_case_of_fPKvKi"></span><span id="_CPPv230ccv_nnc_graph_set_case_of_exprPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t23ccv_nnc_graph_case_of_fPKvKi"></span><span id="ccv_nnc_graph_set_case_of_expr__ccv_nnc_graph_tPC.ccv_nnc_graph_exec_tC.ccv_nnc_graph_case_of_f.voidCP.iC"></span><span class="target" id="group__level__3__5__case__of_1gab1ac617c52ea625aaa7a5af4fad24496"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_set_case_of_expr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv420ccv_nnc_graph_exec_t" title="ccv_nnc_graph_exec_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exec</span></span>, <a class="reference internal" href="#_CPPv423ccv_nnc_graph_case_of_f" title="ccv_nnc_graph_case_of_f"><span class="n"><span class="pre">ccv_nnc_graph_case_of_f</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">case_of</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">case_of_data</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">offset</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430ccv_nnc_graph_set_case_of_exprPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t23ccv_nnc_graph_case_of_fPKvKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the expression to be evaluated when choose which sub-graph to branch to. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The concrete graph. </p></li>
<li><p><strong>exec</strong> – The execution node that represents the case..of graph. </p></li>
<li><p><strong>case_of</strong> – The function pointer to evaluate. </p></li>
<li><p><strong>case_of_data</strong> – The data associated with the function pointer. </p></li>
<li><p><strong>offset</strong> – A integer added to the expression output to help choose the index. Thus, real index = expression index + offset. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425ccv_nnc_graph_set_case_ofPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tPC15ccv_nnc_graph_tKi">
<span id="_CPPv325ccv_nnc_graph_set_case_ofPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tPC15ccv_nnc_graph_tKi"></span><span id="_CPPv225ccv_nnc_graph_set_case_ofPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tPC15ccv_nnc_graph_tKi"></span><span id="ccv_nnc_graph_set_case_of__ccv_nnc_graph_tPC.ccv_nnc_graph_exec_tC.ccv_nnc_graph_tPC.iC"></span><span class="target" id="group__level__3__5__case__of_1gafaed106b95315d8a19bfdd77b14d7239"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_set_case_of</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv420ccv_nnc_graph_exec_t" title="ccv_nnc_graph_exec_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exec</span></span>, <a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">case_graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">case_of</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425ccv_nnc_graph_set_case_ofPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tPC15ccv_nnc_graph_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set a sub-graph as one of the branch for the case..of graph. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The concrete graph. </p></li>
<li><p><strong>exec</strong> – The execution node that represents the case..of graph. </p></li>
<li><p><strong>case_graph</strong> – The sub-graph for one of the branch. </p></li>
<li><p><strong>case_of</strong> – The index assigned to this sub-graph (expression returns this index + offset to determine which sub-graph to execute). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="gradient-based-optimization">
<h2>Gradient-based Optimization<a class="headerlink" href="#gradient-based-optimization" title="Permalink to this heading">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431ccv_nnc_symbolic_graph_minimizePC24ccv_nnc_symbolic_graph_tK13ccv_nnc_cmd_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPC23ccv_nnc_tensor_symbol_tPC23ccv_nnc_tensor_symbol_tPC27ccv_nnc_tensor_symbol_map_tPC27ccv_nnc_graph_exec_symbol_t">
<span id="_CPPv331ccv_nnc_symbolic_graph_minimizePC24ccv_nnc_symbolic_graph_tK13ccv_nnc_cmd_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPC23ccv_nnc_tensor_symbol_tPC23ccv_nnc_tensor_symbol_tPC27ccv_nnc_tensor_symbol_map_tPC27ccv_nnc_graph_exec_symbol_t"></span><span id="_CPPv231ccv_nnc_symbolic_graph_minimizePC24ccv_nnc_symbolic_graph_tK13ccv_nnc_cmd_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPC23ccv_nnc_tensor_symbol_tPC23ccv_nnc_tensor_symbol_tPC27ccv_nnc_tensor_symbol_map_tPC27ccv_nnc_graph_exec_symbol_t"></span><span id="ccv_nnc_symbolic_graph_minimize__ccv_nnc_symbolic_graph_tPC.ccv_nnc_cmd_tC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tPC.ccv_nnc_tensor_symbol_tPC.ccv_nnc_tensor_symbol_map_tPC.ccv_nnc_graph_exec_symbol_tPC"></span><span class="target" id="group__level__3__5__minimizer_1ga82389a398787f60262ed6a09144ee4e1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_minimize</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-1/#_CPPv413ccv_nnc_cmd_t" title="ccv_nnc_cmd_t"><span class="n"><span class="pre">ccv_nnc_cmd_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">minimizer</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">losses</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">loss_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameters</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">inputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">input_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sources</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">source_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destinations</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destination_size</span></span>, <a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">gradients</span></span>, <a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">updated_parameters</span></span>, <a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_tensor_symbol_map_t" title="ccv_nnc_tensor_symbol_map_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_map_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">saved_aux</span></span>, <a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph_exec_symbols</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431ccv_nnc_symbolic_graph_minimizePC24ccv_nnc_symbolic_graph_tK13ccv_nnc_cmd_tPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPC23ccv_nnc_tensor_symbol_tPC23ccv_nnc_tensor_symbol_tPC27ccv_nnc_tensor_symbol_map_tPC27ccv_nnc_graph_exec_symbol_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is the comparable part to Caffe’s solver or TensorFlow’s optimizer. It took a step further than just compute the gradient, but also apply the gradient to update parameters to minimize the loss. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>minimizer</strong> – The wrapped command that represents a particular optimization strategy. </p></li>
<li><p><strong>losses</strong> – The tensor symbols array of losses. </p></li>
<li><p><strong>loss_size</strong> – The size of the loss symbols array. </p></li>
<li><p><strong>parameters</strong> – The parameter tensor symbols to optimize. </p></li>
<li><p><strong>parameter_size</strong> – The size of parameter symbols array. </p></li>
<li><p><strong>inputs</strong> – The additional input symbols we compute gradient against. </p></li>
<li><p><strong>input_size</strong> – The size of the additional input symbols array. </p></li>
<li><p><strong>sources</strong> – The source execution nodes array. </p></li>
<li><p><strong>source_size</strong> – The size of source nodes array. </p></li>
<li><p><strong>destinations</strong> – The destinations execution nodes array. </p></li>
<li><p><strong>destination_size</strong> – The size of destination nodes array. </p></li>
<li><p><strong>gradients</strong> – The tensor symbols that represents the gradient for update, should be the same size as the parameters array + input array size. This can be 0 (optional). </p></li>
<li><p><strong>updated_parameters</strong> – The tensor symbols that represents the updated parameters, should be the same size as the parameters array. </p></li>
<li><p><strong>saved_aux</strong> – The tensor symbols that is helpful for particular optimization strategy. </p></li>
<li><p><strong>graph_exec_symbols</strong> – The execution node symbols for the updates, should be the same size as the parameters array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432ccv_nnc_minimizer_saved_aux_sizeK13ccv_nnc_cmd_t">
<span id="_CPPv332ccv_nnc_minimizer_saved_aux_sizeK13ccv_nnc_cmd_t"></span><span id="_CPPv232ccv_nnc_minimizer_saved_aux_sizeK13ccv_nnc_cmd_t"></span><span id="ccv_nnc_minimizer_saved_aux_size__ccv_nnc_cmd_tC"></span><span class="target" id="group__level__3__5__minimizer_1ga11b1075852236a0514e16beaea568993"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_minimizer_saved_aux_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-1/#_CPPv413ccv_nnc_cmd_t" title="ccv_nnc_cmd_t"><span class="n"><span class="pre">ccv_nnc_cmd_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">minimizer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432ccv_nnc_minimizer_saved_aux_sizeK13ccv_nnc_cmd_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The number of extra saved aux per parameter only depends on the commands. For example, SGD with momentum requires 1 aux (for momentum). Others require more. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>minimizer</strong> – The wrapped command that represents a particular optimization strategy. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of saved aux per parameter. </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="graph-simplification">
<h2>Graph Simplification<a class="headerlink" href="#graph-simplification" title="Permalink to this heading">¶</a></h2>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4Ut3_128">
<span id="_CPPv3Ut3_128"></span><span class="target" id="group__level__3__5__simplify_1ga4efaf4e07364d6302f598569aa7e55dc"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><a class="headerlink" href="#_CPPv4Ut3_128" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt3_12849CCV_NNC_SIMPLIFY_COMMON_SUBEXPRESSION_ELIMINATIONE">
<span id="_CPPv3NUt3_12849CCV_NNC_SIMPLIFY_COMMON_SUBEXPRESSION_ELIMINATIONE"></span><span class="target" id="group__level__3__5__simplify_1gga4efaf4e07364d6302f598569aa7e55dcaf5c2ccabc14562e8ec06bbf311cb4c1e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_SIMPLIFY_COMMON_SUBEXPRESSION_ELIMINATION</span></span></span><a class="headerlink" href="#_CPPv4NUt3_12849CCV_NNC_SIMPLIFY_COMMON_SUBEXPRESSION_ELIMINATIONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>If two commands generated the same outputs, all the places where the newer output used will be replaced by the old output. Later on the graph pruning stage, the command that generate the newer output will be eliminated. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt3_12830CCV_NNC_SIMPLIFY_GRAPH_PRUNINGE">
<span id="_CPPv3NUt3_12830CCV_NNC_SIMPLIFY_GRAPH_PRUNINGE"></span><span class="target" id="group__level__3__5__simplify_1gga4efaf4e07364d6302f598569aa7e55dca22ab46ca45088f7df6e5a0ecf36ff277"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_SIMPLIFY_GRAPH_PRUNING</span></span></span><a class="headerlink" href="#_CPPv4NUt3_12830CCV_NNC_SIMPLIFY_GRAPH_PRUNINGE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>For the given outputs, eliminate unused input tensors, and then eliminate graph execs that don’t contribute to the outputs. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt3_12834CCV_NNC_SIMPLIFY_DATA_TRANSFER_OPTE">
<span id="_CPPv3NUt3_12834CCV_NNC_SIMPLIFY_DATA_TRANSFER_OPTE"></span><span class="target" id="group__level__3__5__simplify_1gga4efaf4e07364d6302f598569aa7e55dca96f0721ec3ef4354cf56e763e6e6f066"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_SIMPLIFY_DATA_TRANSFER_OPT</span></span></span><a class="headerlink" href="#_CPPv4NUt3_12834CCV_NNC_SIMPLIFY_DATA_TRANSFER_OPTE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>For CCV_NNC_DATA_TRANSFER, if the input / output is the same (on the same device, no alias), we can skip. Similarly, if it is on the same device, but alias of some, for some cases we can skip as well (if neither are carry overs, bypasses etc.) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt3_12827CCV_NNC_SIMPLIFY_OPS_FUSIONE">
<span id="_CPPv3NUt3_12827CCV_NNC_SIMPLIFY_OPS_FUSIONE"></span><span class="target" id="group__level__3__5__simplify_1gga4efaf4e07364d6302f598569aa7e55dca44aedc99efce6e2a8da0aaf2033aad55"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_SIMPLIFY_OPS_FUSION</span></span></span><a class="headerlink" href="#_CPPv4NUt3_12827CCV_NNC_SIMPLIFY_OPS_FUSIONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Combine a few smaller ops into bigger one. For now, this functionality is limited. I can only address ops that are sequential. </p>
</dd></dl>

</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431ccv_nnc_symbolic_graph_simplifyPC24ccv_nnc_symbolic_graph_tPCKiKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi">
<span id="_CPPv331ccv_nnc_symbolic_graph_simplifyPC24ccv_nnc_symbolic_graph_tPCKiKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="_CPPv231ccv_nnc_symbolic_graph_simplifyPC24ccv_nnc_symbolic_graph_tPCKiKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="ccv_nnc_symbolic_graph_simplify__ccv_nnc_symbolic_graph_tPC.iCPC.iC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC"></span><span class="target" id="group__level__3__5__simplify_1ga5b5b032cfe417155fef9cac0a8622235"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_simplify</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">passes</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pass_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">binds</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bind_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">outputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">output_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sources</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">source_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destinations</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destination_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431ccv_nnc_symbolic_graph_simplifyPC24ccv_nnc_symbolic_graph_tPCKiKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Simplify a graph with given list of passes, in that particular order. Note, when a graph is simplified, its sources / destinations are changed as well. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>passes</strong> – The array of passes we are going to apply. </p></li>
<li><p><strong>pass_size</strong> – The size of the passes array. </p></li>
<li><p><strong>binds</strong> – The tensor symbols we may bind to an input later (it doesn’t prevent pruning any execution nodes). </p></li>
<li><p><strong>bind_size</strong> – The size of the bind array. </p></li>
<li><p><strong>outputs</strong> – The output tensor symbols we want to retain (we are going to prune any execution nodes that is not related to these outputs). </p></li>
<li><p><strong>output_size</strong> – The size of the output array. </p></li>
<li><p><strong>sources</strong> – The source execution node symbols array. </p></li>
<li><p><strong>source_size</strong> – The size of source node symbols array. </p></li>
<li><p><strong>destinations</strong> – The destinations execution node symbols array. </p></li>
<li><p><strong>destination_size</strong> – The size of destination node symbols array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="automatic-graph-parallelization">
<h2>Automatic Graph Parallelization<a class="headerlink" href="#automatic-graph-parallelization" title="Permalink to this heading">¶</a></h2>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4Ut3_129">
<span id="_CPPv3Ut3_129"></span><span class="target" id="group__level__3__5__parallel_1ga34df7cc7f69a8ec535eec8a524dcbaf9"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt3_12930CCV_NNC_PARALLEL_REDUCE_OP_SUME">
<span id="_CPPv3NUt3_12930CCV_NNC_PARALLEL_REDUCE_OP_SUME"></span><span class="target" id="group__level__3__5__parallel_1gga34df7cc7f69a8ec535eec8a524dcbaf9a1f903ea6661799827efe290b0f2aa436"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_PARALLEL_REDUCE_OP_SUM</span></span></span><a class="headerlink" href="#_CPPv4NUt3_12930CCV_NNC_PARALLEL_REDUCE_OP_SUME" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Op for reducer / allreducer. Currently only supports sum. </p>
</dd></dl>

</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv436ccv_nnc_symbolic_graph_data_parallelPC24ccv_nnc_symbolic_graph_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi">
<span id="_CPPv336ccv_nnc_symbolic_graph_data_parallelPC24ccv_nnc_symbolic_graph_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="_CPPv236ccv_nnc_symbolic_graph_data_parallelPC24ccv_nnc_symbolic_graph_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="ccv_nnc_symbolic_graph_data_parallel__ccv_nnc_symbolic_graph_tPC.iC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tPC.ccv_nnc_tensor_symbol_tCPC.iC.ccv_nnc_tensor_symbol_tPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC"></span><span class="target" id="group__level__3__5__parallel_1gac5962fae3b02507e8e96a361939e35aa"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_data_parallel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parallel</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">broadcasts</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">broadcast_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">allreducers</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">allreducer_size</span></span>, <a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">allreducer_outs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">reducers</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">reducer_size</span></span>, <a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">reducer_outs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">reduce_op_type</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sources</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">source_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destinations</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destination_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv436ccv_nnc_symbolic_graph_data_parallelPC24ccv_nnc_symbolic_graph_tKiPCK23ccv_nnc_tensor_symbol_tKiPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tPCK23ccv_nnc_tensor_symbol_tKiPC23ccv_nnc_tensor_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Turn the existing graph to be capable to run on several devices with different data inputs at parallel. With this method, additional tensor symbols will be created that runs on different devices. That has been said, there are concepts of “broadcast” and “reduce”. “broadcast” tensor symbols will be copied to different devices, while “reduce” tensors will be summed from different devices to the default device. “allreducer” concept is simpler. The allreduce operation will be performed on these tensors and then be used on different devices again.</p>
<p>Limitations: right now, the way to reduce / allreduce tensors only supports “sum”. The data parallel only supports GPU, thus, the nodes will be duplicated are GPU computations and GPU memory backed tensors. Also, right now, the tensors to be broadcasted / allreduced / reduced should have no aliases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>parallel</strong> – Number of devices we want to run on. 0 will use all devices available. 1 will skip. </p></li>
<li><p><strong>broadcasts</strong> – The tensor symbols to be broadcasted. </p></li>
<li><p><strong>broadcast_size</strong> – The size of the broadcast tensor symbols array. </p></li>
<li><p><strong>allreducers</strong> – The tensor symbols that to be allreduced. </p></li>
<li><p><strong>allreducer_size</strong> – The size of the allreducer tensor symbols array. </p></li>
<li><p><strong>allreducer_outs</strong> – Return the tensor symbols for allreducers that before allreduced. Optional, 0 means I don’t care about this. </p></li>
<li><p><strong>reducers</strong> – The tensor symbols to be reduced. </p></li>
<li><p><strong>reducer_size</strong> – The size of the reducer tensor symbols array. </p></li>
<li><p><strong>reducer_outs</strong> – Return the tensor symbols for reducers that after reduced. Optional, 0 means I don’t care about this. </p></li>
<li><p><strong>reduce_op_type</strong> – The reduce op for reducer / allreducer. </p></li>
<li><p><strong>sources</strong> – The source execution node symbols array. </p></li>
<li><p><strong>source_size</strong> – The size of source node symbols array. </p></li>
<li><p><strong>destinations</strong> – The destinations execution node symbols array. </p></li>
<li><p><strong>destination_size</strong> – The size of destination node symbols array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426ccv_nnc_tensor_symbol_copyPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKi">
<span id="_CPPv326ccv_nnc_tensor_symbol_copyPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKi"></span><span id="_CPPv226ccv_nnc_tensor_symbol_copyPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKi"></span><span id="ccv_nnc_tensor_symbol_copy__ccv_nnc_symbolic_graph_tCPC.ccv_nnc_tensor_symbol_tC.iC"></span><span class="target" id="group__level__3__5__parallel_1gaf0aff5b3368a7b54940416644174e266"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_copy</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">symbol</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">device_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426ccv_nnc_tensor_symbol_copyPCK24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the symbol that is on a device other than the default one. The list will be flushed if the ccv_nnc_symbolic_graph_data_parallel function is called again. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>symbol</strong> – The tensor symbol we want to retrieve its counterpart on a different device. </p></li>
<li><p><strong>device_id</strong> – The device numeric id for this symbol. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tensor symbol that is on a different device. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430ccv_nnc_tensor_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKiK23ccv_nnc_tensor_symbol_t">
<span id="_CPPv330ccv_nnc_tensor_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKiK23ccv_nnc_tensor_symbol_t"></span><span id="_CPPv230ccv_nnc_tensor_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKiK23ccv_nnc_tensor_symbol_t"></span><span id="ccv_nnc_tensor_symbol_set_copy__ccv_nnc_symbolic_graph_tPC.ccv_nnc_tensor_symbol_tC.iC.ccv_nnc_tensor_symbol_tC"></span><span class="target" id="group__level__3__5__parallel_1ga21076999f6461ed90753ca3e5cb2e4c4"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_set_copy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">symbol</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">device_id</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv423ccv_nnc_tensor_symbol_t" title="ccv_nnc_tensor_symbol_t"><span class="n"><span class="pre">ccv_nnc_tensor_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">copy</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430ccv_nnc_tensor_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK23ccv_nnc_tensor_symbol_tKiK23ccv_nnc_tensor_symbol_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set corresponding symbol for this symbol on another device. Thus, someone else can query this later with ccv_nnc_tensor_symbol_copy </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>symbol</strong> – The tensor symbol we want to set its counterpart on a different device. </p></li>
<li><p><strong>device_id</strong> – The device numeric id for this symbol. </p></li>
<li><p><strong>copy</strong> – The tensor symbol counterpart on a different device. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv430ccv_nnc_graph_exec_symbol_copyPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKi">
<span id="_CPPv330ccv_nnc_graph_exec_symbol_copyPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="_CPPv230ccv_nnc_graph_exec_symbol_copyPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="ccv_nnc_graph_exec_symbol_copy__ccv_nnc_symbolic_graph_tCPC.ccv_nnc_graph_exec_symbol_tC.iC"></span><span class="target" id="group__level__3__5__parallel_1ga22e699146031421e219d66b743cb6873"></span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_copy</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">symbol</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">device_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv430ccv_nnc_graph_exec_symbol_copyPCK24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the execution node that is on a device other than the default one. The list will be flushed if the ccv_nnc_symbolic_graph_data_parallel function is called again. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>symbol</strong> – The execution node we want to retrieve its counterpart on a different device. </p></li>
<li><p><strong>device_id</strong> – The device numeric id for this symbol. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A execution node that is on a different device. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434ccv_nnc_graph_exec_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKiK27ccv_nnc_graph_exec_symbol_t">
<span id="_CPPv334ccv_nnc_graph_exec_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKiK27ccv_nnc_graph_exec_symbol_t"></span><span id="_CPPv234ccv_nnc_graph_exec_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKiK27ccv_nnc_graph_exec_symbol_t"></span><span id="ccv_nnc_graph_exec_symbol_set_copy__ccv_nnc_symbolic_graph_tPC.ccv_nnc_graph_exec_symbol_tC.iC.ccv_nnc_graph_exec_symbol_tC"></span><span class="target" id="group__level__3__5__parallel_1ga3d833746d1f35ca364e67ceb7739b241"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_set_copy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">symbol</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">device_id</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">copy</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434ccv_nnc_graph_exec_symbol_set_copyPC24ccv_nnc_symbolic_graph_tK27ccv_nnc_graph_exec_symbol_tKiK27ccv_nnc_graph_exec_symbol_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set corresponding symbol for this symbol on another device. Thus, someone else can query this later with ccv_nnc_graph_exec_symbol_copy </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>symbol</strong> – The execution node we want to set its counterpart on a different device. </p></li>
<li><p><strong>device_id</strong> – The device numeric id for this symbol. </p></li>
<li><p><strong>copy</strong> – The execution node counterpart on a different device. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="memory-compression">
<h2>Memory Compression<a class="headerlink" href="#memory-compression" title="Permalink to this heading">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv441ccv_nnc_symbolic_graph_memory_compressionPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi">
<span id="_CPPv341ccv_nnc_symbolic_graph_memory_compressionPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="_CPPv241ccv_nnc_symbolic_graph_memory_compressionPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi"></span><span id="ccv_nnc_symbolic_graph_memory_compression__ccv_nnc_symbolic_graph_tPC.ccv_nnc_graph_exec_symbol_tCPC.iC.ccv_nnc_graph_exec_symbol_tCPC.iC"></span><span class="target" id="group__level__3__5__memory__compression_1ga00c93d76a8893bdaf0e3745b8581077f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_memory_compression</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-3/#_CPPv424ccv_nnc_symbolic_graph_t" title="ccv_nnc_symbolic_graph_t"><span class="n"><span class="pre">ccv_nnc_symbolic_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sources</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">source_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-3/#_CPPv427ccv_nnc_graph_exec_symbol_t" title="ccv_nnc_graph_exec_symbol_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_symbol_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destinations</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">destination_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv441ccv_nnc_symbolic_graph_memory_compressionPC24ccv_nnc_symbolic_graph_tPCK27ccv_nnc_graph_exec_symbol_tKiPCK27ccv_nnc_graph_exec_symbol_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Apply LSSC memory compression algorithm to the convolution activations. This will compress the activation layer for convolution, therefore, save the overall memory usage during training time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – The symbolic graph. </p></li>
<li><p><strong>sources</strong> – The source execution node symbols array. </p></li>
<li><p><strong>source_size</strong> – The size of source node symbols array. </p></li>
<li><p><strong>destinations</strong> – The destinations execution node symbols array. </p></li>
<li><p><strong>destination_size</strong> – The size of destination node symbols array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="while-loop-others">
<h2>While Loop Others<a class="headerlink" href="#while-loop-others" title="Permalink to this heading">¶</a></h2>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4Ut3_127">
<span id="_CPPv3Ut3_127"></span><span class="target" id="group__level__3__5__while__others_1ga39b4e25c4e8f5fed29720be17a532fa8"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><a class="headerlink" href="#_CPPv4Ut3_127" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt3_12721CCV_NNC_MULTIVIEW_K0NE">
<span id="_CPPv3NUt3_12721CCV_NNC_MULTIVIEW_K0NE"></span><span class="target" id="group__level__3__5__while__others_1gga39b4e25c4e8f5fed29720be17a532fa8a8431d8a911d898705efb74eb35c951fe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_MULTIVIEW_K0N</span></span></span><a class="headerlink" href="#_CPPv4NUt3_12721CCV_NNC_MULTIVIEW_K0NE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>All of them are repeated. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt3_12721CCV_NNC_MULTIVIEW_K1NE">
<span id="_CPPv3NUt3_12721CCV_NNC_MULTIVIEW_K1NE"></span><span class="target" id="group__level__3__5__while__others_1gga39b4e25c4e8f5fed29720be17a532fa8a1755463f2d9eb8a0e7e8eabacc033886"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_MULTIVIEW_K1N</span></span></span><a class="headerlink" href="#_CPPv4NUt3_12721CCV_NNC_MULTIVIEW_K1NE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The first one is the first, the second one starts to repeat. (0111111…) </p>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv426ccv_nnc_tensor_multiview_t">
<span id="_CPPv326ccv_nnc_tensor_multiview_t"></span><span id="_CPPv226ccv_nnc_tensor_multiview_t"></span><span id="ccv_nnc_tensor_multiview_t"></span><span class="target" id="group__level__3__5__while__others_1ga6fcf6449e450dc018ba184271658eae1"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv426ccv_nnc_tensor_multiview_s" title="ccv_nnc_tensor_multiview_s"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_s</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_t</span></span></span><a class="headerlink" href="#_CPPv426ccv_nnc_tensor_multiview_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Augmented tensor to run a graph with while loop (An obvious example is dynamic RNN). </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422ccv_nnc_tensor_tape_ioPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tPCKiPCPC16ccv_nnc_tensor_tKiPCKiPCPC16ccv_nnc_tensor_tKi">
<span id="_CPPv322ccv_nnc_tensor_tape_ioPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tPCKiPCPC16ccv_nnc_tensor_tKiPCKiPCPC16ccv_nnc_tensor_tKi"></span><span id="_CPPv222ccv_nnc_tensor_tape_ioPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tPCKiPCPC16ccv_nnc_tensor_tKiPCKiPCPC16ccv_nnc_tensor_tKi"></span><span id="ccv_nnc_tensor_tape_io__ccv_nnc_tensor_tape_tPC.ccv_nnc_graph_tCPC.iCPC.ccv_nnc_tensor_tPCPC.iC.iCPC.ccv_nnc_tensor_tPCPC.iC"></span><span class="target" id="group__level__3__5__while__others_1ga8efbd28b152410ec6f8287de6766a566"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_tape_io</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv421ccv_nnc_tensor_tape_t" title="ccv_nnc_tensor_tape_t"><span class="n"><span class="pre">ccv_nnc_tensor_tape_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tape</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">input_flags</span></span>, <span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">inputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">input_size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">output_flags</span></span>, <span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">outputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">output_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422ccv_nnc_tensor_tape_ioPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tPCKiPCPC16ccv_nnc_tensor_tKiPCKiPCPC16ccv_nnc_tensor_tKi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>For a given tape on a given graph, update the input / output tensors so new version will be created (if needed). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tape</strong> – The tensor tape object. </p></li>
<li><p><strong>graph</strong> – The concrete graph this tensor tape is executing in. </p></li>
<li><p><strong>input_flags</strong> – The flags associated with input tensors. </p></li>
<li><p><strong>inputs</strong> – The input tensors. </p></li>
<li><p><strong>input_size</strong> – The size of input tensors array. </p></li>
<li><p><strong>output_flags</strong> – The flags associated with output tensors. </p></li>
<li><p><strong>outputs</strong> – The output tensors. </p></li>
<li><p><strong>output_size</strong> – The size of output tensors array. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429ccv_nnc_tensor_tape_numberingPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t">
<span id="_CPPv329ccv_nnc_tensor_tape_numberingPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t"></span><span id="_CPPv229ccv_nnc_tensor_tape_numberingPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t"></span><span id="ccv_nnc_tensor_tape_numbering__ccv_nnc_tensor_tape_tPC.ccv_nnc_graph_tCPC.ccv_nnc_graph_exec_tC"></span><span class="target" id="group__level__3__5__while__others_1gacf4ffc3089e3092857b7d57f8c7cbf4c"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_tape_numbering</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv421ccv_nnc_tensor_tape_t" title="ccv_nnc_tensor_tape_t"><span class="n"><span class="pre">ccv_nnc_tensor_tape_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tape</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv420ccv_nnc_graph_exec_t" title="ccv_nnc_graph_exec_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429ccv_nnc_tensor_tape_numberingPC21ccv_nnc_tensor_tape_tPCK15ccv_nnc_graph_tK20ccv_nnc_graph_exec_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Retrieve the number we associated with the execution node that recorded on the tape for a particular run of the graph. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tape</strong> – The tensor tape object. </p></li>
<li><p><strong>graph</strong> – The concrete graph this tensor tape is executing in. </p></li>
<li><p><strong>exec</strong> – The execution node. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number associated with the execution node. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv433ccv_nnc_tensor_tape_set_numberingPC21ccv_nnc_tensor_tape_tPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tK8uint64_t">
<span id="_CPPv333ccv_nnc_tensor_tape_set_numberingPC21ccv_nnc_tensor_tape_tPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tK8uint64_t"></span><span id="_CPPv233ccv_nnc_tensor_tape_set_numberingPC21ccv_nnc_tensor_tape_tPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tK8uint64_t"></span><span id="ccv_nnc_tensor_tape_set_numbering__ccv_nnc_tensor_tape_tPC.ccv_nnc_graph_tPC.ccv_nnc_graph_exec_tC.uint64_tC"></span><span class="target" id="group__level__3__5__while__others_1ga0b7181a625a42d5334afc2a075357ceb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_tape_set_numbering</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../level-2/#_CPPv421ccv_nnc_tensor_tape_t" title="ccv_nnc_tensor_tape_t"><span class="n"><span class="pre">ccv_nnc_tensor_tape_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tape</span></span>, <a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv420ccv_nnc_graph_exec_t" title="ccv_nnc_graph_exec_t"><span class="n"><span class="pre">ccv_nnc_graph_exec_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exec</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">numbering</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv433ccv_nnc_tensor_tape_set_numberingPC21ccv_nnc_tensor_tape_tPC15ccv_nnc_graph_tK20ccv_nnc_graph_exec_tK8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the number we associated with the execution node that recorded on the tape for a particular run of the graph. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tape</strong> – The tensor tape object. </p></li>
<li><p><strong>graph</strong> – The concrete graph this tensor tape is executing in. </p></li>
<li><p><strong>exec</strong> – The execution node. </p></li>
<li><p><strong>numbering</strong> – The number associated with the execution node. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424ccv_nnc_tensor_multiviewA_P16ccv_nnc_tensor_tK7uint8_tK8uint16_tPCK15ccv_nnc_graph_tPC26ccv_nnc_tensor_multiview_t">
<span id="_CPPv324ccv_nnc_tensor_multiviewA_P16ccv_nnc_tensor_tK7uint8_tK8uint16_tPCK15ccv_nnc_graph_tPC26ccv_nnc_tensor_multiview_t"></span><span id="_CPPv224ccv_nnc_tensor_multiviewA_P16ccv_nnc_tensor_tK7uint8_tK8uint16_tPCK15ccv_nnc_graph_tPC26ccv_nnc_tensor_multiview_t"></span><span id="ccv_nnc_tensor_multiview__ccv_nnc_tensor_tPA.uint8_tC.uint16_tC.ccv_nnc_graph_tCPC.ccv_nnc_tensor_multiview_tPC"></span><span class="target" id="group__level__3__5__while__others_1gab8223f5d124bfc35af6659955e684308"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_multiview</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">kind</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">repeat</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../level-2/#_CPPv415ccv_nnc_graph_t" title="ccv_nnc_graph_t"><span class="n"><span class="pre">ccv_nnc_graph_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">graph</span></span>, <a class="reference internal" href="#_CPPv426ccv_nnc_tensor_multiview_t" title="ccv_nnc_tensor_multiview_t"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tensor_multiview</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424ccv_nnc_tensor_multiviewA_P16ccv_nnc_tensor_tK7uint8_tK8uint16_tPCK15ccv_nnc_graph_tPC26ccv_nnc_tensor_multiview_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Setup a tensor multiview with a given set of tensors. A multiview tensor point to a list of tensors, and its access depends on the loop count. For example, if we have a multiview tensor with list of [a, b, c, d], and kind is 1N, repeat is 3. For loop count 0, 1, 2, 3, 4, 5, 6, the corresponding tensors used will be a, b, c, d, b, c. If kind is 0N, and repeat is 4, it will be a, b, c, d, a, b. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data[]</strong> – The pointer to the list of tensors the multiview object can point to. </p></li>
<li><p><strong>kind</strong> – Can be either CCV_NNC_MULTIVIEW_K0N or CCV_NNC_MULTIVIEW_K1N, basically whether to keep the initial tensor. </p></li>
<li><p><strong>repeat</strong> – The length of the repeat. </p></li>
<li><p><strong>graph</strong> – Which graph this multiview object attaches to. </p></li>
<li><p><strong>tensor_multiview</strong> – The tensor multiview object to be updated. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429ccv_nnc_tensor_multiview_freeK26ccv_nnc_tensor_multiview_t">
<span id="_CPPv329ccv_nnc_tensor_multiview_freeK26ccv_nnc_tensor_multiview_t"></span><span id="_CPPv229ccv_nnc_tensor_multiview_freeK26ccv_nnc_tensor_multiview_t"></span><span id="ccv_nnc_tensor_multiview_free__ccv_nnc_tensor_multiview_tC"></span><span class="target" id="group__level__3__5__while__others_1gab36a52fd8fe742dc5ebff3125959e80a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_free</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv426ccv_nnc_tensor_multiview_t" title="ccv_nnc_tensor_multiview_t"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">tensor_multiview</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429ccv_nnc_tensor_multiview_freeK26ccv_nnc_tensor_multiview_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Since tensor_multiview will never be allocated with *_new method, the *_free method simply frees anything that is dynamically allocated afterwards (such as the reference items). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tensor_multiview</strong> – The tensor multiview object to be deallocated. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439ccv_nnc_tensor_synchronize_to_multiviewPC26ccv_nnc_tensor_multiview_tPC16ccv_nnc_tensor_t">
<span id="_CPPv339ccv_nnc_tensor_synchronize_to_multiviewPC26ccv_nnc_tensor_multiview_tPC16ccv_nnc_tensor_t"></span><span id="_CPPv239ccv_nnc_tensor_synchronize_to_multiviewPC26ccv_nnc_tensor_multiview_tPC16ccv_nnc_tensor_t"></span><span id="ccv_nnc_tensor_synchronize_to_multiview__ccv_nnc_tensor_multiview_tPC.ccv_nnc_tensor_tPC"></span><span class="target" id="group__level__3__5__while__others_1ga85b3dfbc432026cb0032d7496aca613c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_synchronize_to_multiview</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv426ccv_nnc_tensor_multiview_t" title="ccv_nnc_tensor_multiview_t"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tensor_multiview</span></span>, <span class="n"><span class="pre">ccv_nnc_tensor_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tensor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439ccv_nnc_tensor_synchronize_to_multiviewPC26ccv_nnc_tensor_multiview_tPC16ccv_nnc_tensor_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Setup a tensor as a reference to a tensor multiview, thus, when tensor multiview’s tu (current tensor) updates, the tensor reference’s data.u8 will get update as well (point to the same memory region as the tu). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensor_multiview</strong> – The tensor multiview object. </p></li>
<li><p><strong>tensor</strong> – The tensor that will be updated along with the multiview object. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv436ccv_nnc_tensor_multiview_synchronizePC26ccv_nnc_tensor_multiview_t">
<span id="_CPPv336ccv_nnc_tensor_multiview_synchronizePC26ccv_nnc_tensor_multiview_t"></span><span id="_CPPv236ccv_nnc_tensor_multiview_synchronizePC26ccv_nnc_tensor_multiview_t"></span><span id="ccv_nnc_tensor_multiview_synchronize__ccv_nnc_tensor_multiview_tPC"></span><span class="target" id="group__level__3__5__while__others_1gadb418060e8dc14eeed19edfedb249bd6"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_synchronize</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv426ccv_nnc_tensor_multiview_t" title="ccv_nnc_tensor_multiview_t"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tensor_multiview</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv436ccv_nnc_tensor_multiview_synchronizePC26ccv_nnc_tensor_multiview_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Send broadcast to subscribers of the multiview, call this in the beginning of exec. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tensor_multiview</strong> – The tensor multiview object. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.CCV_NNC_MULTIVIEW_DATA">
<span class="target" id="group__level__3__5__while__others_1gaede5c4e6e904bad48f1d9bc61b7e4a74"></span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_MULTIVIEW_DATA</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.CCV_NNC_MULTIVIEW_DATA" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.CCV_NNC_MULTIVIEW_PHI">
<span class="target" id="group__level__3__5__while__others_1ga9fdd89d06bacd74cfb6a7e31cc6709f2"></span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_MULTIVIEW_PHI</span></span></span><a class="headerlink" href="#c.CCV_NNC_MULTIVIEW_PHI" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Denote this is a phi multi-view tensor. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.CCV_NNC_MULTIVIEW_K01">
<span class="target" id="group__level__3__5__while__others_1gadaf7af7ca7638979e4972c3c8a809724"></span><span class="sig-name descname"><span class="n"><span class="pre">CCV_NNC_MULTIVIEW_K01</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.CCV_NNC_MULTIVIEW_K01" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv426ccv_nnc_tensor_multiview_s">
<span id="_CPPv326ccv_nnc_tensor_multiview_s"></span><span id="_CPPv226ccv_nnc_tensor_multiview_s"></span><span id="ccv_nnc_tensor_multiview_s"></span><span class="target" id="structccv__nnc__tensor__multiview__s"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ccv_nnc_tensor_multiview_s</span></span></span><a class="headerlink" href="#_CPPv426ccv_nnc_tensor_multiview_s" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;ccv_nnc.h&gt;</em></div>
<p>Augmented tensor to run a graph with while loop (An obvious example is dynamic RNN). </p>
</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../level_3_5/group__level__3__5__case__of_symbolic_switch/" class="btn btn-neutral float-right" title="Construct “switch” control structure in symbolic graph" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../level-3/" class="btn btn-neutral" title="Level 3 API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, libnnc.org.
      
        <span class="build">
          <a href="https://github.com/liuliu/ccv">View the project on GitHub</a>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'a deep learning framework from ccv',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/sphinx_highlight.js"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-303081-9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-303081-9');
  </script>

   

</body>
</html>